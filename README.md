# 易经占卜 

 

一个基于传统易经文化的现代化占卜应用，采用 Jetpack Compose 构建，完全离线运行。

 

## ✨ 核心功能

 

### 📿 铜钱卜卦

- 模拟传统三枚铜钱卜卦方式

- 点击进行 6 次投掷，生成六爻

- 科学的概率分布算法（老阴 1/8、老阳 1/8、少阴 3/8、少阳 3/8）

- 自动计算变爻，生成本卦和变卦

 

### 📖 卦象解读

完整收录易经六十四卦，每卦包含：

- **基本信息**：卦名、卦象图形、上下卦组成

- **经文内容**：卦辞、象传、彖传、爻辞（384 条完整爻辞）



 

### 📜 历史记录

- 完整保存每次占卜记录

- 按日期查询历史卦象


 

## 🛠️ 技术架构

 

### 技术栈

- **UI 框架**：Jetpack Compose

- **架构模式**：MVVM + Clean Architecture

- **数据库**：Room (3 个实体 + 3 个 DAO)

- **依赖注入**：Hilt

- **异步处理**：Kotlin Coroutines + StateFlow

- **编程语言**：Kotlin 100%

- **最低支持**：Android 7.0 (API 24)

 

### 项目结构

```

app/src/main/java/com/yijing/divination/

├── ui/                     # UI 层

│   ├── home/              # 主页（太极八卦动画）

│   ├── divination/        # 占卜流程

│   ├── result/            # 结果展示

│   ├── history/           # 历史记录

│   └── theme/             # Material 3 主题

├── data/                  # 数据层

│   ├── local/             # Room 数据库

│   ├── model/             # 数据模型

│   └── repository/        # 数据仓库

├── domain/                # 业务逻辑层

│   ├── algorithm/         # 卜卦算法

│   │   ├── CoinTossAlgorithm.kt

│   │   └── HexagramGenerator.kt

│   └── model/             # 领域模型

└── di/                    # Hilt 依赖注入

```

 

## 核心算法

 

### 铜钱投掷算法

```kotlin

// 每次投掷 3 枚铜钱，统计正反面数量

老阴（0）：3 个反面 → 概率 1/8 → 阴爻，变阳爻

少阳（1）：2 个正面 1 个反面 → 概率 3/8 → 阳爻

少阴（2）：2 个反面 1 个正面 → 概率 3/8 → 阴爻

老阳（3）：3 个正面 → 概率 1/8 → 阳爻，变阴爻

```

 

### 变卦生成

- 老阴、老阳为"变爻"，会在变卦中转换阴阳

- 少阴、少阳为"不变爻"，保持原状

- 投掷 6 次生成本卦，变爻转换后生成变卦

 

## 🚀 快速开始

 

### 环境要求

- Android Studio Hedgehog (2023.1.1) 或更高版本

- JDK 17

- Gradle 8.0+

- Android SDK 34

 


## 📝 数据来源



- 卦辞、爻辞：《周易》原文

- 象传、彖传：《易传》内容
 

## 免责声明

 
占卜结果仅供参考和娱乐，不构成任何决策建议。

